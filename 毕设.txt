基于ICN的物联网信息分发与安全机制
摘要
	信息中心网络（Information-Centric Networking，简称ICN）是下一代网络技术中最被看好的架构之一，其基于命名内容来消除地址空间稀缺的问题，通过基于名字路由来访问内容，利用中间节点的内容缓存来提供可靠性保证，内容自认证来保证更好的安全性。这些都为物联网（Internet of Things，简称IoT）组网提供了新的思路与建议。IoT网络在可扩展性、移动性、安全与隐私性、兼容性、高能效性等方面都有较高的要求。而ICN网络在其中能有较好的表现，但仍有一定的发展空间。
	本文旨在为基于ICN的IoT网络提供一个更安全高效并具兼容性的网络架构方案。并使用基于ns3网络模拟器的ndnSIM进行模拟试验其可靠性。（可能可以加上对现有方案与架构的研究与ns3、ndnsim学习，听老师怎么说）

一、绪论
	1.1 研究背景与意义
		随着科学技术的不断发展与物质生活水平的持续提高，人们对生活细节的要求也日益增长，随时随地了解到天气情况，想回家时就能获得舒适的气温，足不出户就能享受便捷的医疗服务，身边的每一件事，都想有更便携的解决方式。就在这时，人们提出了物联网的概念。
		物联网（IoT）即万物互联，所有的设备，包括手机、电脑、车辆，甚至是一个小小的传感器，通过网络相互连接，可以在任意时间、任意地点通过任意方式联系到对方。【1】万物互联终将成为必然，而这也是人们翘首以盼的。为此人们提出了许许多多概念与项目来推进IoT的发展，最著名的就比如智慧城市项目，智慧城市概念提出于21世纪初期。为了消除城市发展中产生的种种问题，智慧城市将整合一整套系统的框架体系，从各个方面为城市提供数据与参考的同时，帮助城市管理者更有序更科学地管理城市。【2】IoT将在智慧城市中扮演极为重要的角色，为其中数以万计甚至亿计的设备提供连接服务。智慧城市中智慧家庭的概念更加贴近我们的日常生活，依靠各种智能家居设备，可以在外操控家里的设备，回家后也能获得更舒适更便捷的体验。然而，IoT在带来便捷生活的同时，也对当前的网络基础设施提出了许多要求。
			1、可扩展性：在当前的TCP/IP网络协议下，由于网络地址的限制，无法给所有IoT设备都分配一个地址，从而使IoT设备之间的互相交流必须通过一个中间服务器，影响了时延的同时也是对资源的一种浪费；
			2、兼容性：当前IoT设备会位于不同网络中，常见的就有4G、蓝牙、Wi-Fi等，以及日益流行的ZigBee，不同的网络互相不兼容，需要中间设备进行交互，这对于网络的兼容性提出了挑战；
			3、高能效：IoT设备往往较小，从而不设充电线而是使用电池，这就对各种协议、框架的功耗提出了较高的要求；
			4、安全与隐私性：IoT设备包含了大量的隐私信息，需要进行脱敏或加密处理，而这与高能效也有一定冲突；
			5、移动性：虽然大量的IoT设备处于静止状态，但仍有大量的IoT设备处于移动状态，包括手机、电脑甚至是汽车，需要保证变换网络状态时，设备互联没有问题。
		面对这些问题，人们把目光转向了信息中心网络（ICN）。ICN作为未来网络基础架构的有力竞争者，其以信息为中心，内容被命名后访问，通过链路中节点的缓存来保证内容的可用性并提高信息传输的速率，为ICN赢得了许多拥趸。ICN起源于1999年斯坦福的TRIAD项目，现如今主要有DONA、CCN、PURSUIT、NetInf、CURLING、CONET、MobilityFirst等项目。ICN最主要的特点包括中间节点缓存、内容命名、更好更容易的移动管理、提高安全与扩展性，这些都为IoT网络提供了重要的保障。而且，同IP协议一样，ICN具有很好的兼容性与复用性，可以基于TCP/IP网络层或MAC层。【3】基于ICN建立IoT网络，利用ICN的优势，可以很好的应对IoT提出的挑战。ICN对于内容的命名可以避免IoT设备地址不足的问题；ICN的中间节点缓存可以减少IoT设备的访问以提高可用性与减少设备耗能；ICN数据自认证为IoT的安全性提供了更好的保障；ICN在一定设置后可完善对于移动性的支持。

	1.2 当前IoT网络概况
		基于TCP/IP的IoT网络需要一个IoT Server，在用户与IoT设备在IoT Server上完成注册后，IoT设备每隔一段时间发送一个唤醒包至IoT Server。用户需要连接IoT设备时向IoT Server发送连接请求，IoT Server验证用户信息后，帮助二者完成连接，此时用户就可以获取想要的数据或完成相应设置操作。
		该网络架构在面对日益增长的IoT设备数量时会愈发展现出劣势。大数量的IoT设备就需要更大运算量大IoT Server或使用IoT Server集群来进行处理，此时能源消耗以及同步等问题都会日益凸显。所以需要寻找一种没有中央服务器的方法。
		Rutgers University的Yanyong Zhang在2015年提出了一套基于ICN的IoT网络架构【4】，该架构利用ICN对数据命名的特点，优化了IoT网络，使其可脱离中央服务器的控制，并提出了基于证书的安全架构。传输上完全基于ICN原架构，仅仅增加了组件以完成IoT服务要求。

	1.3 本文主要工作
		考虑到IoT设备所处网络的多样性、IoT设备需要的低能耗以及IoT的安全性，本文对基于ICN的IoT网络进行一定改进。
		对于IoT网络主要的修改如下：
			1、引入智能网关概念，智能网关替代原IoT连接的路由器/网关。智能网关具有验证权限、封装数据、多网络环境工作等功能。
			2、设置一个证书中心，对所有节点，包括用户、IoT设备、智能网关等发布证书，在涉及隐私与敏感信息时使用证书进行验证。
			3、对于无需验证的普通使用场景，仍采用ICN架构直接进行传输。
		进行修改后，本文利用ndnSIM模拟软件，对该网络进行模拟，验证可行性与效率。

	1.4 本文结构安排
		本文一共分为五个章节。
		第一张为绪论，介绍为何以ICN为基础构建IoT网络以及仍存在的缺陷。并以此提出自己的改进方案。
		第二章为现有网络架构的简介。依次介绍ICN网络并对比各种ICN网络基础架构，基于TCP/IP的IoT网络和现有基于ICN的IoT网络。然后分析对于IoT网络的优劣。最后对本文使用的NDN架构与ndnSIM模拟器进行说明。
		第三章为基于ICN的物联网信息分发与安全机制。主要介绍本文提出的网络信息分发模型与安全机制。
		第四章为实验和结果分析。首先介绍了具体环境的搭建和参数的设置，其次给出了本文 所实现的网络模型的可行性与效率及其分析。
		第五章为总结。总结本文的研究成果并提出需要改进的地方。

二、ICN与现有物联网网络架构
	2.1 ICN网络及其信息转发与安全机制
		2.1.1 ICN概述
			当前互联网中出现的许多问题都源于网络的架构。在最初只是为了两节点相连后交换数据，后续考虑到可能将来会需要更大的网络，因特网被设计成沙漏状，最中间的颈部由IP协议承担，这种设计极大地扩展了因特网的兼容性，使其可以对上承担更多类型与功能的应用层软件，对下可以基于各种不同的交换协议与硬件，也因此，因特网获得了极大的发展。由于因特网的发展，产生了数以亿计的应用程序来满足各种需求，然而也给当前的网络架构，提出了各种挑战，比如可扩展的内容分发、移动性、安全性、认证等等，而这些，都是因特网在设计之初，并未对这些进行过特殊的设计，这就导致，在因特网扩张得十分巨大的同时，也隐隐产生了诸多“恶性”的补丁，例如移动IP。这些补丁大大增加了网络整体架构的复杂性，旦它们仅仅是临时性的补丁。这时，就存在一个问题，我们是需要继续“修修补补”，还是设计一套全新的架构，以消除当前互联网的局限性，应对未来互联网的需求。对此，各方都提出了自己的看法，其中有相当数量的人提出应该使用一套全新的架构，而ICN，Information-Centric Network 信息中心网络，正式这套架构的有力争夺者。当前，互联网更多地被用来进行信息分发，而非原来的双向的主机之间的交流沟通。通过网络层命名信息，ICN更有利于部署网内缓存，也能更好地利用多播机制，从而更有助于向用户有效和及时地传递信息。
			ICN有如下优势：
			「
			2.1.1.1 关注命名数据
				如今互联网已经从学术网络转变为全球基础设施，用于大规模分发信息，已经有数以亿计地设备连接，数以万亿个索引网页，每年分发EB级的数据（1EB=2^60Byte）。用户越来越关心信息的内容而非特定的计算机/主机。然而，IP网络中以主机为中心的通信模型事实要求用户在每个请求中不仅要包括所需信息，还需要指定主机/服务器。除非使用特殊机制或用户直接请求，否则IP协议无法从托管该信息的最佳位置查找与获取该请求的信息。
				在研究界，十几年前Gritter和Cheriton首次提出了ICN的概念，同期的论文也提出基于当前网络架构与分布式哈希表（Distributed Hash Table，DHT）来组成ICN架构。ICN架构从基础上分离了信息与其来源。这一来一个最基础的假设，信息已经被独立地命名、分发与匹配，那该信息就可以存在于网络的任何一个地方。从而在ICN中，路由并不需要去确定信息具体的位置，位于某一主机或服务器，只要查找是否存在该名字的信息即可。从而，接收信息的主动权回到了接收者的手中，与当前发送者掌控信息交换的控制权相比，在ICN中，任何节点都无法让接收者接收并非自己明确要求的信息。
			2.1.1.2 关注信息分发
				对于当前的网络架构，无法应对突发的超大流量信息。由于当前信息只是简单地被网络识别为一系列字节串，从而当大量重复请求形成的时候，并不能意识到这一点并进行优化，从而导致网络拥塞。CDN（Content Delivery Networks，内容分发网络），作为一种改进方案，采用了网内缓存与信息敏感机制来进行认证与消息分发。然而由于突发拥堵发生的情况、数量、位置和目的地都是未知的，所以CDN并不能适应所有情况。
				在ICN网络中，满足信息请求并不简单只要定位原始信息位置，同样需要利用网内缓存机制，存储热门信息的拷贝。这基于ICN基础架构，并不需要额外增加插件。同时，利用命名信息，ICN允许聚合相同名字的请求，使用多播机制分发数据。最后，访问控制在将来也可以被应用在网络层。
			2.1.1.3 关注移动性
				当前，移动用户与设备数量急剧增加，他们可以很轻易地更改自己的IP地址，从而使得将来的连接模式变得更随机，甚至是机会主义的。然而，这样的一种形式并不能使得移动中的用户达到一个持续的连接状态，而这已经成为一个十分重要的需求点。
				在ICN中，主机的移动性被使用发布订阅沟通模型进行分发。该模型中，当用户对某一信息感兴趣，那他就可以订阅该信息，当铜壶提供信息，他就可以发布通告，向网络宣称自己拥有该信息。在网络中代理人对匹配订阅与发布负有责任，他们提供约定程序。这里的发布订阅原语与传统的发布订阅系统的是不一样的。传统的发布订阅系统中，发布包括实质的数据传输而订阅也会在不远的将来收到数据。而在ICN中，发布只是一次宣称自己拥有某一信息，同时包含永久可选项，代表自己将永久持有该数据。
				发布订阅沟通模型的优势在于将发布与订阅从时空上区分开来。发布者与订阅者的沟通并不需要同步，即发布者可以在没有订阅者需要该信息时发布信息。发布者并不拥有订阅者的相关信息，页不知道有多少订阅者订阅了某一信息，同时订阅者也不知大有多少发布者提够了该信息。这些为移动性提供了高效的支持：移动节点可以在切换网络后简单地重新发布对某一信息的订阅，而网络也可以在最近的缓存中取得该信息并发送给它，而不是去初始发布者处获取信息。
			2.1.1.4 关注安全性
				因特网设计时是运行在一个可信的环境下的，数据与用户的认证，数据的完整性与用户的隐私并不是被考虑的范畴，最初的目的是开放与灵活，方便各个主机加入网络。同时，因特网中发送方与接收方是平等的，这就允许了垃圾邮件发送者、黑客与攻击者对网络进行攻击。为了应对这些攻击，增加安全补丁和信任机制被提出，从而在网络中增加了防火墙、垃圾邮件过滤器，以及新的基于IP的安全网络协议，包括IPSec与DNSSec等。然而，这些并不能深入网络深处以解决问题，从而还使用大量的坏数据不断被分发、传输。虽然现在存在类似DPI与合法拦截这样的点解决方案来恢复实际信息语义与各个数据包中分散的数据之间的断开的连接，然而这需要相当高的成本，因此只适用于诸如执法的关键问题。所以，虽然安全的端到端连接很普遍，但是整体网络体系结构仍然没有针对恶意攻击的自我保护，并且信息不安全，缺少问责制使得可以利用非侵入性和非歧视性手段发现不良行为并减轻其影响。
				subscribe-driven），或称兴趣驱动（Interest-driven），所以当没有请求的时候，网络中是没有任何的数据流的。这就可以有效的降低垃圾信息的数量，同时有利于增加问责机制来控制可用性与请求。同时，由于ICN架构使用自认证的名字来确认某一信息，网络中的恶意数据过滤器也可能被实现了。最后，大部分的ICN架构都增加了一个分离机制，利用一个间接节点将用户发送请求与用户接收请求分离开来，由于请求会在间接节点被分析评估，就可以被用来对抗DoS（denial of service，拒绝访问）攻击。同时这也可以增加用户的隐私保证，发布者并不能得到订阅者的任何信息。
				」
		2.1.2 ICN架构
			当前存在的ICN架构专注于替换当前的以主机为中心的网络架构。当前ICN领衔的架构有伯克利的DONA项目（Data Oriented Network Architecture）【5】，欧盟赞助的PURSUIT项目（Publish-Subscribe Internet Technology）【6】，SAIL项目（Scalable & Adaptive Internet soLutions）【7】，COMET项目（COntent Mediator architecture for contentaware nETworks）【8】，美国赞助的NDN项目（Named Data Networking）【9】，MobilityFirst项目【10】以及法国赞助的采用NDN架构的ANR Connect项目【11】。
			不同的ICN架构，在命名、寻址与路由、缓存、移动性和安全性等关键模块中会有一定的差异与共同点。
			2.1.2.1 命名
				命名是ICN架构中的核心部分，它给信息分配名字。在所有ICN架构中，命名都是本地独立的，但由于各自的策略不同，名字可以是直接一串的，也可以是分层级的，可以是人类可读的，也可以是不可读的。
			2.1.2.2 寻址与路由
				寻址包括将信息的名字对应一个生产者或一个来源；路由则会创建一条通路来从生产者传递信息至请求者。一个关键的问题是，这两者是否被整合在一起，可以是被整合的，也可以是独立的。被整合的架构中，信息请求被路由到一个信息生产者，接着生产者就会根据请求的主机，按照相反的道路，将内容返回。在非整合的架构中，寻址程序并不决定或限制从生产者返回的路径。
			2.1.2.3 缓存
				ICN架构中可以存在链路中缓存与链路外缓存。链路中缓存依赖一次请求，完成请求的同时，信息就会被缓存在中间的路由节点中。而链路外缓存则会缓存在这条请求与信息链路之外。当处于寻址路由非整合的ICN架构中时，链路外缓存必须被寻址程序支持并将其认作是一个生产者；当处于寻址路由整合的ICN架构中时，链路外缓存必须被路由程序支持以发送到请求者手中。
			2.1.2.4 移动性
				ICN中对于订阅者/请求者的移动性是底层就支持的，由于在切换设备/IP后只需发送一个新的对信息的请求就可以完成原先的交互进程。而对于发布者/生产者的移动性支持是比较困难的，依赖寻址路由整合系统的寻址模块或寻址路由非整合系统的路由表模块的支持。
			2.1.2.5 安全性
				这一部分是与命名结构紧密相关的。对于人类可读的名字需要一个可信机构来认证返回的信息是否与请求的相符；对于不分层级的名字，这些名字都支持自我验证，但是并不可读，就依赖另一个可信的系统来匹配一个人类可读的名字。
				值得注意的是，这只是ICN架构中最关键的几部分。这里对数种ICN架构进行了一定的总结与归纳。

			「这里看情况加那张表吧」

		2.1.3 NDN具体架构
			由于后续采用ndnSIm对网络进行模拟，这里对NDN进行详细叙述。
			2.1.3.1 概述
				NDN架构起源于PARC的CCN（Content Centric Networking）项目，受到美国未来网络架构组（US Future Internet Architecture program）的赞助。NDN想要重塑当前的网络协议栈，将ming“被命名的数据”（命名数据层）作为网络架构的细颈（thin waist，类似TCP/IP架构中的IP），对下支持多种网络架构，包括但不限于IP。NDN提出策略层作为命名数据层和底层网络架构的中间层，依靠这个策略层来优化资源利用，比如选择一个合适的出口端口；也提出在命名数据层上的安全层提供安全机制。在NDN中最重要的一点是其命名机制，该命名机制下名字都是分层级的，因此允许寻址与路由可以基于相同的名字前缀进行聚合。
			2.1.3.2 命名
				在NDN中，名字是类似URL的分级结构，比如一个NDN名字可以是/AlicesHome/bedroom/temperature。和URL最大的区别在于，NDN中名字的第一部分并不是一个DNS名或一个IP地址，名字中的任意一个部分可以是任意的字符串，可以是人类可读的，也可以是不可读的，甚至可以是一串哈希。在NDN中，请求一个名字可以返回以这个为前缀的任意信息，比如请求/AlicesHome/bedroom/situation，返回的数据是/AlicesHome/bedroom/situation/_v1/_s1，表示是第一个版本的第一段数据，然后可以请求其他的数据，比如/AlicesHome/bedroom/situation/_v1/_s2。虽然预期订阅者的应用程序知道信息的分段情况，但是前缀匹配的路由方式决定了用户可以自行发现可用的内容，从而允许用户询问尚未生成的内容，只要该前缀包含生产者声明的自己能够发布的前缀。这可以用于实现动态生成信息对象的各种应用，比如语音会议类应用。
			2.1.3.3 寻址与路由「这里需要图」
				NDN中，订阅者发布Interest包来请求信息，接收到满足该信息的Data包。所有的报文都被CR（Content Router，内容路由）一跳一跳地分发，每一个CR都包含三块数据结构，分别是FIB（Forwarding Information Base，转发信息库），PIT（Pending Interest Table，待定信息表），CS（Content Store，内容缓存）。FIB类似IP网络中的路由表，将信息的名字与对应的出口端口匹配，从而将Interest包发送给合适生产者。PIT记录收到的的Interest包与其来自的端口，当有Data包到达的时候，会被发送至该端口。CS即内容的缓存，里面记录了一定数量的内容与其名字。
				当一个Interest包到达的时候，CR会提取其中的名字并在CS中检索是否存在匹配的内容。如果找到，就会利用该缓存直接返回Data包至Interest包进入的端口，并丢弃该Interest包。如果没找到，则会将该包的信息加入PIT表中，然后在PIT中查找是否有相同的请求，如果有，则直接等待Data包，如果没有，就会在FIB表中匹配最长对应的前缀，并向相应端口发送请求。在接收到数据后，CR会在PIT中匹配所有请求该数据的端口，并返回数据，然后把这些条目从PIT中删除。Data包的内容则会被缓存在CS中。

				「增加图与图的描述」

			2.1.3.4 缓存
				NDN天然支持链路中缓存，数据通过时会被缓存在CR中的CS中。CS可以使用LRU（Least Recently Used，最近最少使用）或别的算法来更新缓存，但是事实上，因为其会缓存通过的所有内容，所以这并不能用来作为长期的内容存储，所以这最常用来恢复丢失的Data包或者作为突发拥堵的缓存，即当大量用户请求相同内容时的缓存。NDN中链路外缓存通过发送Interest包来获得信息的缓存，从而使得用户请求信息时可以从此处得到数据。然而这对于NDN网络来说并不是透明的，由于FIB表的存在，链路外缓存需要想外广播自己拥有某信息的报文来使得各个CR知晓。
			2.1.3.5 移动性
				在NDN中，当订阅者移动时，他可以直接发送还没被满足的Interest包。这个包到第一个接收过之前的Interest包的CR处，会被加入后等待Data包的返回，接到后返回相应的两个端口即可。虽然也会返回到订阅者的初始位置，但是对网络影响不大。当发布者移动时，FIB表就需要被更新，这需要发布者再次广播名字前缀。由于这样的移动性需要大量的成本，所以NDN采用LFBL（Listen First Broadcast Later）协议来实现ad-hoc与机会网络中的移动性。在LFBL中，Interest包时泛洪的，当一个潜在的生产者接收到这个Interest包后，它会监听信道来检测是否有其他节点已经发送对应的Data报文，如果没有，他就会将Data包发送给订阅者。
			2.1.3.6 安全性
				NDN支持以可验证的方式将人类可读的分层信息名字与相应的信息对象相关联。每一个Data包都包含了一个基于名字与包内容的签名，也可能包含签名者的公钥。这就允许所有节点，包括CR来验证名字与内容是否相符或是否被篡改。同时，由于命名采用分层的结构，所以可以通过层层证书认证来保证安全性。即发布/AlicesHome/bedroom/temperature内容的发布者需要拥有/AlicesHome/bedroom的证书，即该内容中需要有相应的证书，同时要经过/AlicesHome的证书认证。
		2.1.4 基于TCP/IP的IoT网络架构




			


参考文献：
	【1】Ierc-european research cluster on the internet of things. [Online]. Available: http://www.internet-of-things-research.eu/about_iot.htm
	【2】Chourabi H, Nam T, Walker S, et al. Understanding smart cities: An integrative framework[C]//2012 45th Hawaii international conference on system sciences. IEEE, 2012: 2289-2297.
	【3】Arshad S, Azam M A, Rehmani M H, et al. Recent advances in information-centric networking based Internet of Things (ICN-IoT)[J]. IEEE Internet of Things Journal, 2018.
	【4】Li S, Zhang Y, Raychaudhuri D, et al. IoT middleware architecture over information-centric network[C]//2015 IEEE Globecom Workshops (GC Wkshps). IEEE, 2015: 1-7.
【5】29
【6】30
【7】32
【8】34
【9】36
【10】38
【11】39
【12】41

ICN survey：Xylomenos G, Ververidis C N, Siris V A, et al. A survey of information-centric networking research[J]. IEEE Communications Surveys & Tutorials, 2014, 16(2): 1024-1049.